<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Dropdown</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #1a1a1a;
            color: white;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #333;
            border-radius: 8px;
        }
        .dropdown-test {
            position: relative;
            display: inline-block;
        }
        .dropdown-button {
            background: #333;
            color: white;
            border: 1px solid #555;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background: #222;
            border: 1px solid #555;
            border-radius: 4px;
            min-width: 160px;
            z-index: 1000;
            top: 100%;
            left: 0;
        }
        .dropdown-content.show {
            display: block;
        }
        .dropdown-item {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid #333;
        }
        .dropdown-item:hover {
            background: #444;
        }
        .dropdown-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Teste de Dropdown - Elementos LI e DIV</h1>
        
        <div class="test-section">
            <h2>Teste 1: Dropdown Simples</h2>
            <div class="dropdown-test">
                <button class="dropdown-button" onclick="toggleDropdown('dropdown1')">
                    Clique para abrir ⋮
                </button>
                <div id="dropdown1" class="dropdown-content">
                    <div class="dropdown-item" onclick="alert('Confirmar clicado')">Confirmar</div>
                    <div class="dropdown-item" onclick="alert('Concluir clicado')">Concluir</div>
                    <div class="dropdown-item" onclick="alert('Cancelar clicado')">Cancelar</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>Teste 2: Lista com LI</h2>
            <ul style="list-style: none; padding: 0; margin: 0;">
                <li style="padding: 10px; border: 1px solid #333; margin: 5px 0; border-radius: 4px;">
                    Item de Lista 1
                </li>
                <li style="padding: 10px; border: 1px solid #333; margin: 5px 0; border-radius: 4px;">
                    Item de Lista 2
                </li>
                <li style="padding: 10px; border: 1px solid #333; margin: 5px 0; border-radius: 4px;">
                    Item de Lista 3
                </li>
            </ul>
        </div>

        <div class="test-section">
            <h2>Teste 3: Divs Simulando Agendamentos</h2>
            <div style="border: 1px solid #333; padding: 15px; margin: 10px 0; border-radius: 8px;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <strong>09:00</strong> - João Silva
                        <br>
                        <small>Limpeza de Pele</small>
                    </div>
                    <div class="dropdown-test">
                        <button class="dropdown-button" onclick="toggleDropdown('dropdown2')">⋮</button>
                        <div id="dropdown2" class="dropdown-content">
                            <div class="dropdown-item">Confirmar</div>
                            <div class="dropdown-item">Concluir</div>
                            <div class="dropdown-item">Cancelar</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>Informações de Debug</h2>
            <p>Total de elementos LI: <span id="li-count">0</span></p>
            <p>Total de elementos DIV: <span id="div-count">0</span></p>
            <p>Dropdowns funcionando: <span id="dropdown-status">Testando...</span></p>
        </div>
    </div>

    <script>
        function toggleDropdown(id) {
            const dropdown = document.getElementById(id);
            const isVisible = dropdown.classList.contains('show');
            
            // Fechar todos os dropdowns
            document.querySelectorAll('.dropdown-content').forEach(d => {
                d.classList.remove('show');
            });
            
            // Abrir o dropdown clicado se não estava visível
            if (!isVisible) {
                dropdown.classList.add('show');
            }
        }

        // Fechar dropdown ao clicar fora
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.dropdown-test')) {
                document.querySelectorAll('.dropdown-content').forEach(d => {
                    d.classList.remove('show');
                });
            }
        });

        // Contar elementos
        function updateCounts() {
            const liCount = document.querySelectorAll('li').length;
            const divCount = document.querySelectorAll('div').length;
            
            document.getElementById('li-count').textContent = liCount;
            document.getElementById('div-count').textContent = divCount;
            document.getElementById('dropdown-status').textContent = 'Funcionando';
        }

        // Atualizar contadores quando a página carregar
        window.addEventListener('load', updateCounts);
    </script>
</body>
</html>